<head>
    <link rel="stylesheet" type="text/css" href="base.css">
    <script src="script.js"></script>
    <script>
        var values;
        var param;

        function Valider() {
            var a = document.getElementById("Pythagore_point").value;
            var b = document.getElementById("Pythagore_hyp").value;
            var b2 = document.getElementById("Pythagore_hyp2").value;
            var c = document.getElementById("Pythagore_cot1").value;
            var d = document.getElementById("Pythagore_cot2").value;
            var e = document.getElementById("Pythagore_long").value;
            document.getElementById("correctionGlobal").innerHTML = "";
            document.getElementById("Correction").style.display = "none";
            var erreur = true;
            if (values[2].sommet == a)
            {
                if (values[0].sommet + values[1].sommet == b || values[1].sommet + values[0].sommet == b )
                {
                    if (values[0].sommet + values[1].sommet == b2 || values[1].sommet + values[0].sommet == b2 )
                    {
                        var posibilities = [];
                        posibilities.push(values[0].sommet + values[2].sommet + "+" + values[2].sommet + values[1].sommet);
                        posibilities.push(values[2].sommet + values[0].sommet + "+" + values[2].sommet + values[1].sommet);
                        posibilities.push(values[0].sommet + values[2].sommet + "+" + values[1].sommet + values[2].sommet);
                        posibilities.push(values[2].sommet + values[0].sommet + "+" + values[1].sommet + values[2].sommet);
                        if (posibilities.includes(c + "+" + d))
                        {
                            if (param.hide == 0 && values[6].toString() == e){
                                erreur = false;
                                document.getElementById("correctionGlobal").innerHTML = "Bravo c'est correct";
                            }
                            else if (param.hide == 1 && values[4].toString() == e){
                                erreur = false;
                                document.getElementById("correctionGlobal").innerHTML = "Bravo c'est correct";
                            }
                            else if (param.hide == 2 && values[5].toString() == e){
                                erreur = false;
                                document.getElementById("correctionGlobal").innerHTML = "Bravo c'est correct";
                            }
                        }
                    }
                }
            }
            if (erreur) {
                document.getElementById("correctionGlobal").innerHTML = "Oups, ce n'est pas la réponse attendue ...";
                document.getElementById("Correction").style.display = "block";
                document.getElementById("CorPythagore_point").innerHTML = values[2].sommet;
                document.getElementById("CorPythagore_hyp").innerHTML = values[0].sommet + values[1].sommet;
                document.getElementById("CorPythagore_hyp2").innerHTML = values[0].sommet + values[1].sommet;
                document.getElementById("CorPythagore_cot1").innerHTML = values[0].sommet + values[2].sommet;
                document.getElementById("CorPythagore_cot2").innerHTML = values[2].sommet + values[1].sommet;
                
                if (param.hide == 0){
                    document.getElementById("CorPythagore_long").innerHTML = values[6];
                }
                else if (param.hide == 1){
                    document.getElementById("CorPythagore_long").innerHTML = values[4];
                }
                else if (param.hide == 2){
                    document.getElementById("CorPythagore_long").innerHTML = values[5];
                }

            }
        }

        function Annuler() {
            document.getElementById("Pythagore_point").value = "";
            document.getElementById("Pythagore_hyp").value = "";
            document.getElementById("Pythagore_hyp2").value = "";
            document.getElementById("Pythagore_cot1").value = "";
            document.getElementById("Pythagore_cot2").value = "";
            document.getElementById("Pythagore_long").value = "";
            document.getElementById("correctionGlobal").innerHTML = "";
            document.getElementById("Correction").style.display = "none";
        }


        function Recommencer() {
            Annuler();
            var c = document.getElementById("myCanvas");
            param = {longueurmin: 2, longueurmax: 8, arrondi: 10, hide: Randint(0,2), angledroit: true};
            values = CreatePythagore(param, c);
            if (param.hide == 0)
                document.getElementById("Pythagore_manque").innerHTML = values[0].sommet + values[1].sommet;
            else if(param.hide == 1)
                document.getElementById("Pythagore_manque").innerHTML = values[0].sommet + values[2].sommet;
            else if(param.hide == 2)
                document.getElementById("Pythagore_manque").innerHTML = values[2].sommet + values[1].sommet;
            document.getElementById("CorPythagore_manque").innerHTML = document.getElementById("Pythagore_manque").innerHTML;
        }

        function PremierLancement(){
            Recommencer();
        }

    </script>
</head>

<body onload="PremierLancement()">
    <div style="height: 50px;"></div>
    <h1><b><u>
        Utiliser le théorème de Pythagore
    </h1></b></u>
    <p>
        Consigne : Compléter la rédaction du théorème de Pythagore ci-dessous. Attention, les points doivent être en majuscules.
    </p>
    <p>
        <canvas id="myCanvas" width="300" height="170" style="color: white;stroke: white;">
            Your browser does not support the HTML5 canvas tag.
        </canvas><br>
        <Label>Dans le triangle ABC, rectangle en </Label>
        <input id="Pythagore_point" class="backbutton" type="text" style="width: 30px;">
        <Label> le côté le plus long est </Label>
        <input id="Pythagore_hyp" class="backbutton" type="text" style="width: 50px;">
        <Label>.</Label><br>
        <Label>D'après le théorème de pythagore, on a :</Label><br>
        <input id="Pythagore_hyp2" class="backbutton" type="text" style="width: 50px;">
        <Label>² = </Label>
        <input id="Pythagore_cot1" class="backbutton" type="text" style="width: 50px;">
        <Label>² + </Label>
        <input id="Pythagore_cot2" class="backbutton" type="text" style="width: 50px;">
        <Label>²</Label><br>
        <Label>Tout calcul fait, on obtient </Label>
        <Label id="Pythagore_manque"></Label>
        <Label> = </Label>
        <input id="Pythagore_long" class="backbutton" type="text" style="width: 50px;">
        <Label> cm</Label>
    </p>
    <p>
        <INPUT class="backbutton" TYPE="button" VALUE=" Valider " onclick="Valider()">
        <INPUT class="backbutton" TYPE="button" VALUE=" Annuler " onclick="Annuler()"><br>
        <label id="correctionGlobal"></label><br>
        <div id="Correction">
            <Label>Dans le triangle ABC, rectangle en </Label>
            <Label id="CorPythagore_point"></Label>
            <Label> le côté le plus long est </Label>
            <Label id="CorPythagore_hyp"></Label>
            <Label>.</Label><br>
            <Label>D'après le théorème de pythagore, on a :</Label><br>
            <Label id="CorPythagore_hyp2"></Label>
            <Label>² = </Label>
            <Label id="CorPythagore_cot1"></Label>
            <Label>² + </Label>
            <Label id="CorPythagore_cot2"></Label>
            <Label>²</Label><br>
            <Label>Tout calcul fait, on obtient </Label>
            <Label id="CorPythagore_manque"></Label>
            <Label> = </Label>
            <Label id="CorPythagore_long"></Label>
            <Label> cm</Label>
        </div><br>
    </p>
    <p>
        <INPUT class="backbutton" TYPE="button" VALUE=" Recommencer " onclick="Recommencer()">
        <input class="backbutton" type="button" value="Retour" onclick="history.go(-1)">
    </p>
</body>