<head>
    <link rel="stylesheet" type="text/css" href="../../index.css">
    <script src="../../MenuSetup.js"></script>
    <script src="script.js"></script>
    <script>
        var values;
        var typefigure = 0;

        function testReponse() {
            console.log(values);
            if ((values[1] == 0 && document.getElementById("reponse1").checked) ||
                (values[1] == 1 && document.getElementById("reponse2").checked)) {
                document.getElementById("Resultat").innerHTML = "Bravo c'est la bonne réponse";
            }
            else {
                document.getElementById("Resultat").innerHTML = "C'est loupé pour cette fois...";
            }
        }

        function recommencer(){
            values = CreateReciproque();
            typefigure = Randint(0,1);
            DessinerFigure(typefigure);
            document.getElementById("Resultat").innerHTML = "";
            document.getElementById("reponse1").value = "";
            document.getElementById("reponse2").value = "";
            document.getElementById("reponse1").checked = false;
            document.getElementById("reponse2").checked = false;

        }

        


        function DessinerFigure(forme){
            var c = document.getElementById("myCanvas");
            var ctx = c.getContext("2d");
            ctx.setTransform(1, 0, 0, 1, 0, 0);
            ctx.clearRect(0, 0, c.width, c.height);
            var margin = 50;
            var w = c.width;
            var h = c.height;
            if (forme === 0){
                ctx.beginPath();
                ctx.moveTo(margin, margin);
                ctx.lineTo(w-margin, h * 5/8);
                ctx.lineTo(margin, h-margin);
                ctx.lineTo(margin, margin);
                ctx.strokeStyle = '#FFFFFF';
                ctx.lineWidth = 5;
                ctx.lineCap = 'round';
                ctx.lineJoin = "round";
                ctx.closePath();
                ctx.moveTo(margin + (w - 2 * margin)*1/3, margin+(h * 5 / 8-margin)*1/3);
                ctx.lineTo(margin + (w - 2 * margin)*1/3, h * 5 / 8+(h * 3 / 8-margin)*2/3);
                ctx.stroke();

                ctx.fillStyle = "white";
                ctx.font = "20px Arial";
                ctx.fillText("A", 45, 40)
                ctx.fillText("B", margin + (w - 2 * margin)*1/3 - 5, margin+(h * 5 / 8-margin)*1/3 - 10)
                ctx.fillText("C", w-margin + 5, h * 5/8 + 7)
                ctx.fillText("D", margin + (w - 2 * margin)*1/3 - 5, h * 5 / 8+(h * 3 / 8-margin)*2/3 + 22)
                ctx.fillText("E", 45, h-margin + 22)
                ctx.rotate(18 * Math.PI / 180);
                ctx.font = "20px Arial";
                var t;
                console.log(values);
                if (values[0] != 0)
                {
                    t = Round(values[2][0] - values[2][1]);
                    ctx.fillText(t.toString() + " cm", margin+50, 20);
                    t = values[2][1];
                    ctx.fillText(t.toString() + " cm", margin+230, 20);
                }
                ctx.rotate(-18 * Math.PI / 180);
                ctx.rotate(-11 * Math.PI / 180);
                if (values[0] != 1)
                {
                    t = values[2][2];
                    ctx.fillText(t.toString() + " cm", margin+170, 240);
                    t = Round(values[2][3] - values[2][2]);
                    ctx.fillText(t.toString() + " cm", margin-5, 240);
                }
                ctx.rotate(11 * Math.PI / 180);
                ctx.rotate(-90 * Math.PI / 180);
                if (values[0] != 2)
                {
                    t = values[2][4];
                    ctx.fillText(t.toString() + " cm", -h/2 - 20, 45);
                    t = values[2][5];
                    ctx.fillText(t.toString() + " cm", -h/2 - 30, margin + (w - 2 * margin)*1/3 - 5);
                }
            }
            else{
                ctx.beginPath();
                ctx.moveTo(margin, margin);
                ctx.lineTo(w-margin, h-margin);
                ctx.lineTo(w-margin, margin + (h- 2 *margin) * 2 / 8);
                ctx.lineTo(margin, margin + (h-2 * margin) * 6 / 8);
                ctx.lineTo(margin, margin);
                ctx.strokeStyle = '#FFFFFF';
                ctx.lineWidth = 5;
                ctx.lineCap = 'round';
                ctx.lineJoin = "round";
                ctx.closePath();
                ctx.stroke();

                ctx.fillStyle = "white";
                ctx.font = "20px Arial";
                ctx.fillText("A", 45, 40);
                ctx.fillText("B", w-margin + 5, h-margin + 22);
                ctx.fillText("C", w / 2 - 5, h * 5/8 );
                ctx.fillText("D", w-margin + 5, margin + (h- 2 *margin) * 2 / 8);
                ctx.fillText("E", 45, margin + (h-2 * margin) * 6 / 8 + 22);

                ctx.rotate(23 * Math.PI / 180);
                var t;
                console.log(values);
                if (values[0] != 0)
                {
                    t = values[2][0];
                    ctx.fillText(t.toString() + " cm", margin+75, 20);
                    t = values[2][1];
                    ctx.fillText(t.toString() + " cm", margin+270, 20);
                }
                ctx.rotate(-23 * Math.PI / 180);
                ctx.rotate(-12 * Math.PI / 180);
                if (values[0] != 1)
                {
                    t = values[2][2];
                    ctx.fillText(t.toString() + " cm", margin+220, 165);
                    t = values[2][3];
                    ctx.fillText(t.toString() + " cm", margin+30, 165);
                }
                ctx.rotate(12 * Math.PI / 180);
                ctx.rotate(-90 * Math.PI / 180);
                if (values[0] != 2)
                {
                    t = values[2][4];
                    ctx.fillText(t.toString() + " cm", -h/2 - 10, 45);
                    t = values[2][5];
                    ctx.fillText(t.toString() + " cm", -h/2 - 40, w-margin + 5 - 10);
                }
            }
            
        }


    </script>
</head>
<body onload="recommencer(); CreateSidePanel(document, true);">

    <!-- Side Panel -->
    <div id="Sidepanel" class="sidepanel" onload="CreateSidePanel(document)">
        <a href="#">Menu principal</a>
        <a href="#">Services</a>
        <a href="#">Clients</a>
        <a href="#">Contact</a>
    </div>
    <button id="buttonSidepanel" class="openbtn" onclick="ChangeNav(document)">☰</button>
    <!-- Fin Side Panel -->
    
    <div style="height: 50px;"></div>
    <h1><b><u>
        Utiliser la réciproque du théorème de Thalès.
    </h1></b></u>
    <p>
        Consigne : Les points A;B;C et E;D;C sont alignés. Les droites (AE) et (BD) sont-elles-parallèles ?
    </p>
    <canvas id="myCanvas" width="450" height="250" style="color: white;stroke: white;">
        Your browser does not support the HTML5 canvas tag.
    </canvas>
    <p>
        <input class="backbutton" type="radio" name="radio1" id="reponse1">
        <label id="reponse1l" for="reponse1">(AE) est parallèle à (BD)</label><br>
        <input class="backbutton" type="radio" name="radio1" id="reponse2">
        <label id="reponse2l" for="reponse2">(AE) n'est pas parallèle à (BD)</label><br>
        <input class="backbutton" type="button" value="Valider" onclick="testReponse()"><br>
        <label id="Resultat"></label><br>
    </p>
    <p>
        <input class="backbutton" type="button" value="Recommencer ?" onclick="recommencer()">
        <input class="backbutton" type="button" value="Retour" onclick="history.go(-1)">
    </p>
</body>